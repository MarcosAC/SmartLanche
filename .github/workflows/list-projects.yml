name: List Classic Projects

on:
  workflow_dispatch:

jobs:
  list-projects:
    runs-on: ubuntu-latest

    steps:
      - name: List user classic projects
        uses: actions/github-script@v7
        with:
          github-token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const response = await github.rest.projects.listForUser({
              username: context.repo.owner
            });

            console.log("=== USER PROJECTS FOUND ===");
            for (const project of response.data) {
              console.log(`Project Name: ${project.name}`);
              console.log(`Project ID: ${project.id}`);
              console.log(`Project Number (UI): ${project.number}`);
              console.log("-----------------------------");
            }
